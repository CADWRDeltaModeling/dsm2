
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Layers/">
      
      
        <link rel="next" href="../Boundary_Flow/">
      
      
      <link rel="icon" href="../../../images/dsm2-icon_32-24.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Operating Rule - DSM2 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#operating-rule-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DSM2 Documentation" class="md-header__button md-logo" aria-label="DSM2 Documentation" data-md-component="logo">
      
  <img src="../../../images/dsm2-icon_32-24.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DSM2 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Operating Rule
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CADWRDeltaModeling/dsm2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DSM2 Documentation" class="md-nav__button md-logo" aria-label="DSM2 Documentation" data-md-component="logo">
      
  <img src="../../../images/dsm2-icon_32-24.png" alt="logo">

    </a>
    DSM2 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CADWRDeltaModeling/dsm2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dsm2_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dsm2_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Layers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Layers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Operating Rule
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Boundary_Flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boundary Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Boundary_Stage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boundary Stage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Channel_Initial_Condition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Channel Initial Condition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Channels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Channels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ENVVARS_Section/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ENVVARS Section
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Gate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../IO_Files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IO Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Input_Climate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Input Climate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Input_Gate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Input Gate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Input_Transfer_Flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Input Transfer Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Node_Concentration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Concentration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Operating_Rule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operating Rule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EC_based_Operating_Rule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operating Rule (EC-based)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Output_Channel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Output Channel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Output_Gate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Output Gate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Output_Reservoir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Output Reservoir
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PTM_Output_Files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PTM Output Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Particle_Filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Filter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Particle_Flux_Output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Flux Output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Particle_Group_Output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Group Output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Particle_Insertion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Insertion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Particle_Reservoir_Filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Reservoir Filter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rate_Coefficients/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rate Coefficients
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Reservoir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reservoir
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Reservoir_Concentration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reservoir Concentration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Reservoir_Initial_Condition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reservoir Initial Condition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Scalar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scalar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Source_Flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Source_Flow_Reservoir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Flow Reservoir
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Source_Tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tidefile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tidefile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Transfer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transfer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_34" >
        
          
          <label class="md-nav__link" for="__nav_3_5_34" id="__nav_3_5_34_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ECO-PTM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_34_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_34">
            <span class="md-nav__icon md-icon"></span>
            ECO-PTM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Fish_Release_Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fish Release Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Particle_Type_Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Type Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Random_Sequence_Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Sequence Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Route_Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Route Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Survival_Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Survival Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Swim_Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Swim Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Time_Zone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time Zone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eco_ptm/Travel_Time_Output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Travel Time Output
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSDP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            CSDP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/CSDP_Network_File_Format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSDP Network File Format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/CSDP_Network_Summary_Report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSDP Network Summary Report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Creating_DSM2_v8.2_GIS_grid_map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating DSM2 GIS Grid Map
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/DSM2_Geo_referenced_grid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSM2 Geo-referenced Grid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/DSM2_Sacramento_San-Joaquin_Delta_Grid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSM2 Sacramento San-Joaquin Delta Grid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Exporting_Channel_Lengths_from_CSDP_Network_file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporting Channel Lengths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Exporting_CSDP_Information_into_GIS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporting CSDP Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Extracting_Bathymetry_Data_From_An_Irregularly_Shaped_Region/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extracting Bathymetry Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Importing_Digital_Elevation_Maps_DEMs_into_CSDP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importing DEMs into CSDP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Merging_multiple_versions_of_network_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Merging Network Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Schematics_and_Boundaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schematics and Boundaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/Symbology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Symbology
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_guide/overview.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Build
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Build
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/CMake_Build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMake Build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/Cloud_Notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/Developer_and_Build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer and Build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/DSM2_v82_Compiling_and_Packaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSM2 v82 Compiling and Packaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/Docker_Builds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Builds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/Troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PTM code
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            PTM code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_guide/java_code.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/Debugging_JNI_code_with_Eclipse_and_Visual_Studio_20xx_/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging JNI Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/DSM2_v82_PTM_Compiling_with_Eclipse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSM2 v82 PTM Compiling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/HDF5_CMake_Static_Build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HDF5 CMake Static Build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/PTM_DLL_Static_Build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PTM DLL Static Build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build/Troubleshooting_Eclipse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting Eclipse
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_guide/python.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Best Practices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Organizing_a_Study/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organizing a Study
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Checklists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Checklists
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Planning_Simulation_Checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning Simulation Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Historical_Simulation_Checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Historical Simulation Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/CALSIM_-_DSM2_Integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CALSIM-DSM2 Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/RKI_Referenced_Output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RKI Referenced Output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Scripts_and_input_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scripts and Input Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Post_processing_and_Visualization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Post-processing and Visualization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Supporting_Tools_and_QAQC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supporting Tools and QAQC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/DSM2_Cloud_Setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSM2 Cloud Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Update_DSM2_historical_simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update DSM2 Historical Simulation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Background_Material_and_References/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background Material and References
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Presentations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Training Materials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Training Materials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Learning Series ðŸŒŸ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Learning Series ðŸŒŸ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../learning_series/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../learning_series/quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../learning_series/planning_studies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning Studies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../learning_series/eco_ptm_studies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ECO-PTM
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/An_Introduction_to_DSM2_Tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2_2" id="__nav_7_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basic Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_2">
            <span class="md-nav__icon md-icon"></span>
            Basic Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Tutorial_1_Channels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Channels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Tutorial_2_Reservoirs_Gates_Transfers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reservoir Gates Transfers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Tutorial_3_Layering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Layering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Tutorial_4_Time_Varying_Data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time Varying Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Tutorial_5_Advanced_Output_and_Source_Tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Output and Source Tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Tutorial_6_Operating_Rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operating Rules
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_2_3" id="__nav_7_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bay-Delta Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_3">
            <span class="md-nav__icon md-icon"></span>
            Bay-Delta Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/DSM2_Bay-Delta_Tutorial_1_Historical_Simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Historical Simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/DSM2_Bay-Delta_Tutorial_2_Source_Tracking_Fingerprinting_/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Tracking Fingerprinting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/DSM2_Bay-Delta_Tutorial_3_Planning_Simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning Simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/DSM2_Bay-Delta_Tutorial_4_Batch_Preprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Batch Preprocessing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/Generating_DSM2_Hydro_boundary_conditions_from_the_DCR_2017_CALSIM_II_output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating Hydro Boundary Conditions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/DSM2_Bay-Delta_Tutorial_5_Suisun_Marsh_Operating_Rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suisun Marsh Operating Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/DSM2_Bay-Delta_Tutorial_7_Clifton_Court_Diurnal_Pumping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clifton Court Diurnal Pumping
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_4" >
        
          
          <label class="md-nav__link" for="__nav_7_2_4" id="__nav_7_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Delta Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_4">
            <span class="md-nav__icon md-icon"></span>
            Delta Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Delta_Tutorial_8_-_Temperature_Simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temperature Simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/Delta_Tutorial_9_-_DO_Simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DO Simulation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_5" >
        
          
          <label class="md-nav__link" for="__nav_7_2_5" id="__nav_7_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSDP Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_5">
            <span class="md-nav__icon md-icon"></span>
            CSDP Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdp/CSDP_Tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSDP Tutorial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            FAQs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/PTM_Frequently_Asked_Questions_FAQ_/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PTM
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-tos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            How-tos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/DSM2_-_How_to_read_hdf5_output_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Read HDF5 Output Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/How_does_DSM2-Hydro_calculate_channel_volume_/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How DSM2-Hydro Calculates Channel Volume
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/DSM2_Seems_to_indicate_missing_irregular_gate_position_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Missing Irregular Gate Position Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faqs/DSM2_inputs_are_off_by_1DAY/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSM2 Inputs Off by 1 Day
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../releasenotes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Versions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="operating-rule-guide">Operating Rule Guide</h1>
<h1 id="operating-rule-guide_1">Operating Rule Guide</h1>
<h2 id="introduction">Introduction</h2>
<p>DSM2 uses a text language for operating rules, and the rules are stored
in the database. Operating rules combine trigger and action directives,
each of which is an expression based on observed model states, seasonal
information and exogenous time series input as well as other
expressions.</p>
<p>Actions are things the operating rule does. In DSM2-DB, the actions
affect either gate devices or source/sink flow boundaries. For gate
devices the operating flow coefficient can be changed. For sources and
sinks, flow may be set to a new constant value or a new time series.
Expressions for actions tend to be of the form:</p>
<pre><code>SET model_object TO numerical_expression
</code></pre>
<p>The action becomes applicable when a corresponding trigger goes from
false to true. Triggers are written with expressions that evaluate true
or false:</p>
<pre><code>chan_stage(channel=132, dist=1000) &lt; -0.1
</code></pre>
<p>Some rules are immediate responses to model conditions (close the gate
when stage dips below 0.5). Other rules use triggers to describe seasons
or situations where the action is applicable (reduce a boundary flow
when the month is between May and September). Still others rules apply
from the beginning of the run and the trigger column is just a nuisance
â€“.</p>
<h2 id="expressions">Expressions</h2>
<p>An expression is just a named quantity that is derived from model data,
outside time series data, math and time functions. An example of a
simple numerical expression based on current DSM2-DB flow looks like
this:</p>
<pre><code>ebb := chan_flow(channel=132, dist=1000) &gt; 0.01
</code></pre>
<p>This example samples the current time step model flow 1,000 ft
downstream of the upstream node in channel 132 and checks whether it is
greater than 0.01 cfs. The expression assigns the answer the name ebb,
so it can be reused in later expressions. Note that ebb is a logical
expression which evaluates to true or false depending on the model time
step. Numerical expressions will be introduced shortly.</p>
<p>Assignments of named expressions always start with a name the assignment
operator â€œ:=â€. Spaces around the assignment and greater-than operators
are optional. The assignment operator isnâ€™t actually used in the GUI,
because there is a separate column for the name and definition.</p>
<p>The chan_flow part of the expression represents the value of a model
variable. Model variables typically require identifiers, which are
included in parenthesis and are a comma-separated list with elements
that depend on the context (see the section below on DSM2 model variable
identifiers). These identifiers can be numerical or text strings:</p>
<pre><code>chan_flow(channel=132, dist=1000) ...numerical

gate_op(gate=middle_river_barrier, device=weir) ...strings
</code></pre>
<p>The examples thus far have been logical expressions. Logical expressions
usually appear in triggers rather than actions. Besides logical
expressions, expressions that evaluate to numerical values can be
defined:</p>
<pre><code>ebbmagnitude := log(chan_flow(channel=132, dist=1000))
</code></pre>
<p>and expressions can also involve simple math operators. For instance:</p>
<pre><code>ebbmagnitude := log(chan_flow(channel=132, dist=1000))
</code></pre>
<p>is an expression that evaluates flow, applies the log function to it and
then assigns it to the variable name ebbmagnitude. For details, see the
section below on Math Operators)</p>
<p>Model time can also be used in expressions. The following expression
describes the VAMP season for San Joaquin river management:</p>
<pre><code>vamp := (MONTH == APR) or (MONTH == MAY)
</code></pre>
<p>The definition could also include the date, day of the month, or time of
day.</p>
<p>month, or time of day.<br />
Finally, the following example combines a model state (stage/water
surface) observation, an external time series (called tide_level) and
some simple arithmetic. The expression might be used with a slowly
fluctuating tide or sea level datum to provide an idea of critical stage
in the South Delta compared to ambient tide conditions.</p>
<pre><code>critical_stage := chan_stage(channel=132,dist=1000)&lt;(tide_level-1.0)
</code></pre>
<h2 id="operating-rules">Operating Rules</h2>
<p>It is now straightforward to use expressions in operating rules. The
following example is based on expressions that were developed above.
<strong>Bold face</strong> words correspond to tables or columns of the GUI.</p>
<h3 id="name">Name</h3>
<pre><code>middle_vamp_ebb
</code></pre>
<h3 id="expressions_1">Expressions</h3>
<pre><code>ebb := chan_flow(channel=132, dist=1000) &gt; 0.01
vamp := (month == Apr) OR (month == May)
</code></pre>
<h3 id="trigger">Trigger</h3>
<pre><code>vamp AND ebb
</code></pre>
<h3 id="action">Action</h3>
<pre><code>SET gate_op(gate=middle_river_barrier, device=weir) TO ts(new_time_series)
</code></pre>
<p>The <em>middle_vamp_ebb</em> operating rule lies dormant until the first time
step when vamp and ebb (a compound expression based on the expressions
<strong>vamp</strong> and <strong>ebb</strong>) becomes true. At that point the action will be
taken and the weir operating coefficient will start to operate according
to the values in the DSS time series new_time_series. Note that except
for the expression definitions, the parts of this operating rule can be
united using the name assignment (:=) and WHERE directives:</p>
<pre><code>middle_vamp_ebb := SET gate_op(gate= middle_river_barrier,device = weir) TO ts(new_time_series) WHERE (vamp AND ebb)
</code></pre>
<p>This is the form of the operating rule that would be used, say, when
parsing a text file rather than using the GUI.</p>
<h2 id="prediction">Prediction</h2>
<p>Anticipation using linear or quadratic extrapolation can be added to
numerical expressions in expressions using the PREDICT function. What is
nice about PREDICT is that it allows trigger expressions to more
accurately express the intent of a rule, because you don't need
"buffers" which are confusing and inaccurate.</p>
<p>For instance lets say you want to take some action like close a gate to
protect stage in channel 206 in the South Delta from going below zero.
If you use a buffer, you write the following:</p>
<pre><code>SET [some action] WHEN chan_stage(chan=206, dist=0) &lt;1);
</code></pre>
<p>This is confusing because the value "1" is used as the trigger criterion
when the intent has to do with stage of 0 and not 1. It is inaccurate
because it will go off no matter what the trend is. With anticipation,
the same rule would look like this:</p>
<pre><code>SET [some action] WHEN PREDICT(chan_stage(chan=206, dist=0),LINEAR, 30MIN) &lt; 0;
</code></pre>
<p>This states the trigger clearly in terms of the value 0. It is also much
less likely to go off by accident, because the time trend is used (stage
going below 1 is not significant if it is dropping very slowly and not
likely to make it to 0). In addition to LINEAR extrapolation quadratic
predictions are available using QUAD as the second argument to PREDICT.
Over time periods of less than an hour (and not right next to a gate or
reservoir), quadratic interpolation is markedly more accurate than
linear.</p>
<h2 id="ramp-transition">RAMP (transition)</h2>
<p>For actions, there is also a way to smooth time. The keyword RAMP after
an action (together with a number of minutes) will transition in the
action gradually, if such a transition makes physical sense.</p>
<p>For instance, a ramping version of middle_vamp_ebb might use the
definition for ebb:</p>
<pre><code>SET gate_op( gate=middle_r_barrier, device=radial) TO ts(new_time_series) RAMP 60min
</code></pre>
<h2 id="complementary-triggers-and-ifelse">Complementary Triggers and IFELSE</h2>
<p>Often, an operating rule is paired with a complimentary rule that will
reverse its action. For instance, to complement the above rule for ebb
flow the following operating rule for flood flow might be added:</p>
<h3 id="name_1">Name</h3>
<p>middle_vamp_flood</p>
<h3 id="expressions_2">Expressions</h3>
<pre><code>flood := chan_flow(channel=132, dist=1000) &lt; -0.01
vamp := (month == Apr) or (month == May)
</code></pre>
<h3 id="trigger_1">Trigger</h3>
<pre><code>vamp and flood
</code></pre>
<h3 id="action_1">Action</h3>
<pre><code>SET gate_op( gate=middle_r_barrier, device=barrier,direction=to_node) TO old_time_series
</code></pre>
<p>This rule effectively undoes the ebb action. The example underscores a
necessary but somewhat unintuitive point about triggers: they are
one-time and unidirectional. A rule whose trigger is vamp and ebb will
activate when this expression changes from false to true but will not do
anything or even notice if vamp and ebb subsequently becomes false
again. If the complementary behavior is desired, this intent must be
specified in a second rule. Often the complementary rule is subtly
different from the exact negation of the original; for instance, the
trigger vamp and flood is not the same as not(vamp and ebb). In the case
of the Montezuma Salinity Control Structure, the flood and ebb triggers
are not even based on the same variable (the gate is opened based on a
head difference, closed based on velocity).</p>
<p>The middle_vamp_ebb example combines vamp, which is the seasonal
applicability of the rule with ebb, which is a tidal phenomenon. There
are also meaningful operating rules that do not need a trigger at all.
For instance, the user might want to operate SWP and CVP pumping based
on a time series but bound it by some fraction of Sacramento inflow. The
trigger in this case is â€œTRUEâ€ and it will go off once at startup. This
is the default in the GUI if you leave the trigger blank.</p>
<p>If what you really want is a trigger that continuously monitors a
true-false condition and applies a value accordingly, you may want to
consider using the IFELSE function and no trigger. For instance:</p>
<pre><code>SET ext_flow(node=17) TO IFELSE( vamp, ts1, ts2)
</code></pre>
<p>will set the boundary flow at node 17 (San Joaquin River) to time series
ts1 whenever vamp is true and to ts2 when vamp is not true.</p>
<h2 id="misfires-and-redundant-triggering">Misfires and Redundant Triggering</h2>
<p>Extra triggering and rule activation may seem harmless when you consider
one rule in isolation. Rerunning an action hurts performance, but the
action is redundant rather than harmful. The real problem with rules
that misfire is that they are active too often and tend to interfere
with (â€œlock outâ€ or â€œbumpâ€) other rules that are trying to manipulate
the same model variable.</p>
<p>Here is an example of misfiring trigger based on an expression using
date terms:</p>
<pre><code>(YEAR &gt;= 1990 AND MONTH&gt;=APR AND DAY&gt;=14)
</code></pre>
<p>(note: a much better way to write this expression using the DATE keyword
is given in the reference section)</p>
<p>Because of the ANDs, this expression requires three conditions to be
true at once in order to evaluate to TRUE. It goes off as intended on or
about 14APR1990. But what happens on 01MAY1990? On 14MAY1990? This
trigger is going to evaluate to FALSE and then back to TRUE. When it
makes the FALSE-TRUE transition it will cause the trigger to go off,
which is probably not what was intended.</p>
<p>There is a fix for the above expression (not the recommended on) that
illustrates that the only thing that matter are FALSE-TO-TRUE
transitions. There is one more curious point about this example is that
the correct behavior is obtained using:</p>
<pre><code>(YEAR == 1990 AND MONTH == APR AND DAY &gt;= 14)
</code></pre>
<p>Why? The rule will evaluate FALSE on or about 01MAY1990, but it will
stay false!</p>
<p>These date examples are so common that there is a special way of dealing
with them. See the function reference for DATE and SEASON.</p>
<h2 id="default-true-trigger">Default (TRUE) Trigger</h2>
<p>If you leave the trigger definition blank in the GUI the trigger
expression will be set to WHEN TRUE.</p>
<p>The TRUE trigger is roughly equivalent to "at startup" and you should be
sure not to confuse it with "always true". Recall it is transitions that
are important, and this trigger makes its only nominal FALSE-TO-TRUE
transition once at the very beginning of the run. Once displaced by an
overlapping action, the rule will never activate again</p>
<p>A rule that evaluates to a trivial FALSE will never do anything.</p>
<p>As an example of a situation where these concepts matter, consider a
rule that toggles use of a gate for the entire simulation. By default, a
gate in the model is installed. Assume we have set up an expression
named use_barriers or remove_barriers indicating whether we want to use
gates. Three possibilities for writing the rule are:</p>
<pre><code>   TRIGGER                ACTION 
1. TRUE                SET gate_install(gate=...) TO use_gate
2. use_gate            SET gate_install(gate...) TO INSTALL
3. remove_gate         SET gate_install(gate=...) TO REMOVE
</code></pre>
<p>Option 1 uses the default trigger. It will be activated at startup and
the gate installation will be set to the expression variable use_gate.
Option 2 is interesting because it will never do anything useful. It
will be evaluated once at the start of the run, but it will never
trigger if use_gate is FALSE. It will trigger if use_gate is TRUE, but
this merely carries out the default. Option 3 remedies this by using
remove_gate -- the non-default -- as the trigger. Different users seem
to regard different options (1) and (3) more intuitive.</p>
<h2 id="conflicts">Conflicts</h2>
<p>When a rule is triggered, it will be activated unless it conflicts with
another, active rule. Rules conflict when they operate on the same model
variable. For instance, two rules that act to change a weir coefficient
in the same gate/weir conflict.</p>
<p>Two specifications govern conflicts:</p>
<p>1. When a rule conflicts with an active rule it is deferred. Deferred
rules are not activated, but they are tricked into thinking they
evaluated FALSE so that the can possibly make a FALSE-TRUE transition
again the next time step.</p>
<p>2. When a rule conflicts with another potentially activating rule, the
results are â€œundefinedâ€. We are unaware of any universal solution in
this situation. The best solution is to write rules that donâ€™t do this â€“
we are currently working on a better warning system to detect when this
happens.</p>
<h2 id="dsm2-variable-and-function-reference">DSM2 Variable and Function Reference:</h2>
<h3 id="variables">Variables</h3>
<p>The variables from DSM2 that can be used in operating rules include
boundary and grid variables that can be changed and those that are
merely observable (read-only). The observable variables are divided
between variables that can be set to time series (Dynamic Variables)
that will apply ever-after and variables that can only be set to new
static values (Static Variables)</p>
<h3 id="dynamic-control-variables">Dynamic Control Variables</h3>
<p>These variables are dynamically controllable and can be set to a time
series. Once the new time series is set, the boundary or structure being
controlled will have no memory of its old controlling time series. Most
dynamic variables are gate and boundary data.</p>
<pre><code>gate_op(gate=textname,device=textname, direction=[to_node|from_node|to_from_node])
</code></pre>
<p>Device operating coefficients (0..1) in corresponding direction. Use
keywords CLOSE (=0) and OPEN (=1) to make rules more readable. The
option "to_from_node" is write-only -- a convenience feature that writes
to two otherwise separate variables.</p>
<pre><code>gate_position(gate=textname,device=textname)
</code></pre>
<p>Physical operation of control structure such as radial gate height
(physical units). The interpretation of "position" is dependent on the
"control_type" of the gate. If it is gated from the bottom, position
indicates elevation and is the same as elev. If the control type is
gated from the top, as in a radial gate, the position is the height.
This variable is deprecated now, in favor of directly using "elev" or
"height".</p>
<pre><code>gate_height(gate=textname,device=textname)
</code></pre>
<p>Height of gate device.</p>
<pre><code>gate_elev(gate=textname,device=textname)
</code></pre>
<p>Crest elevation or invert elevation of gate device.</p>
<pre><code>gate_width(gate=textname,device=textname)
</code></pre>
<p>Width or radius of gate device.</p>
<pre><code>ext_flow(name=textname)
</code></pre>
<p>External flow (boundary flows, source/sink)</p>
<pre><code>transfer_flow(transfer=textname)
</code></pre>
<p>Flows in object-to-object transfers</p>
<h2 id="static-control-variables">Static Control Variables</h2>
<p>These are variables that are normally static. You can set them to a
constant. If you set them to a time series, the model will not complain,
but the result may not be what you expect. The model variable will only
be set to the current value of the series at the time the rule was
activated. The variable won't keep changing with the time series.</p>
<pre><code>gate_install(gate=textname)
</code></pre>
<p>Determines or inquires whether the given gate is installed.</p>
<pre><code>SET gate_install(...) TO [REMOVE|FALSE]
</code></pre>
<p>completely removes the gate and restores an equal-stage compatibility
condition to the channel junction.</p>
<pre><code>SET gate_install(...) TO [INSTALL|TRUE]
</code></pre>
<p>installs the gate.</p>
<pre><code>gate_coef(gate=textname,device=textname,direction=[to_node|from_node])
</code></pre>
<p>Gate coefficient of the device in the given direction. This is a
physical quantitity of the structure, representing the roughness or
efficiency of flow. It should not be used for operating controls such as
flap gates. The coefficients will change only rarely when the actual
site is altered and should never leave the range (0,1).</p>
<pre><code>gate_nduplicate(gate=textname,device=textname)
</code></pre>
<p>Number of duplicate devices.</p>
<h2 id="observable-variables">Observable Variables</h2>
<p>These are read-only model variables that cannot be manipulated directly,
but can be observed and used in expressions for triggers and actions.</p>
<pre><code>chan_flow(channel=number,dist=[number|length])
</code></pre>
<p>Flow in channel.dist=length indicates the end of the channel.</p>
<pre><code>chan_vel(channel=number, dist=[number|length])
</code></pre>
<p>Velocity at given channel and distance.</p>
<pre><code>chan_stage(channel=number,dist=[number|length])
</code></pre>
<p>Electrical Conductivity from GTM at given channel and distance.</p>
<pre><code>chan_ec(channel=number,dist=[number|length])
</code></pre>
<p>Water Surface at given channel and distance.</p>
<pre><code>chan_surf
</code></pre>
<p>Same as stage (water surface) in channel</p>
<pre><code>res_stage(res=textname)
</code></pre>
<p>Water surface in reservoir</p>
<pre><code>res_flow(res=textname, node=number)
</code></pre>
<p>Flow from reservoir to node</p>
<pre><code>ts(name=textname)
</code></pre>
<p>Any time series named in the Operating Rule View of the GUI may be used
by referencing the name. Time series evaluate to their value at the
current time step.</p>
<h2 id="model-time-queries">Model Time Queries</h2>
<p>The following commands retrieve model date or seasonal information:</p>
<pre><code>YEAR, MONTH, DAY
</code></pre>
<p>Retrieves the year, month and day associated with the current model time
step. These are returned as numbers. When testing them, you can (for
clarity) use 3-letter abbreviations for the months. Examples:</p>
<pre><code>YEAR &gt;= 1991

MONTH + 1 &lt; MAY

HOUR, MIN
</code></pre>
<p>Retrieve the (24 hour) hour and minute associated with the current model
time step.</p>
<pre><code>DATE
</code></pre>
<p>Returns a time stamp corresponding to the beginning of the day on the
current model date. Example:</p>
<pre><code>DATE &gt;= 11OCT1992 (not time part)

DT
</code></pre>
<p>Represents the model time step in seconds. This is often useful for use
with ACCUMULATE</p>
<pre><code>DATETIME
</code></pre>
<p>Returns a time stamp corresponding to the current model date and time.
Example:</p>
<pre><code>DATETIME &gt; 04FEB1990 00:00 (date plus time)

SEASON
</code></pre>
<p>Returns a time stamp relative to the beginning of the year corresponding
to the beginning of the day on the current model date and time.
Comparisons such as SEASON &gt; 15APR AND SEASON \&lt;01MAY avoid common
logical mistakes from building this from scratch.<br />
There is one other gotcha with SEASON that comes up at the end of time
periods because the timestamp is always at 00:00. Compare SEASON &gt;
15APR AND SEASON \&lt;01MAY SEASON &gt; 15APR AND SEASON â‰¤30APR and notice
that the latter does not include the entire day 30APR.</p>
<p>Note SEASON and DATE/DATETIME to combined expressions built from atomic
expressions like day and month. They are clearer and avoid some curious
gotchas. For instance DATE &gt;= 14APR1990 will evaluate true only once
per year, whereas (YEAR &gt;= 1990 AND MONTH&gt;=APR AND DAY&gt;=14) will
evaluate true on Apr 14, false on May 1 and true again on May 14. You
could get the intended behavior with (YEAR == 1990 AND MONTH == APR AND
DAY&gt;=14), which will go from false to true only once, but the fix
hardly seems worth the trouble.</p>
<h2 id="numerical-operations">Numerical Operations</h2>
<p>The following operators and functions are available</p>
<pre><code>+, -, *, /
</code></pre>
<p>Arithmetic operators with standard precedence of operations. You can use
parenthesis to change the evaluation order.</p>
<pre><code>x^3, x^y
</code></pre>
<p>Power of x and x to the power of y</p>
<pre><code>MIN2(x,y)
</code></pre>
<p>Minimum of two arguments.</p>
<pre><code>MAX2(x,y)
</code></pre>
<p>Maximum of two arguments.</p>
<pre><code>MIN3(x,y,z)
</code></pre>
<p>Minimum of three arguments.</p>
<pre><code>MAX3(x,y,z)
</code></pre>
<p>Maximum of three arguments.</p>
<pre><code>SQRT(x)
</code></pre>
<p>Square root of x</p>
<pre><code>EXP(x)
</code></pre>
<p>Exponent function (e to the power of x)</p>
<pre><code>LN(x)
</code></pre>
<p>Natural log of x</p>
<pre><code>LOG(x)
</code></pre>
<p>Base 10 log of x</p>
<h2 id="logical-operations">Logical Operations</h2>
<pre><code>x==y
</code></pre>
<p>Tests equality.</p>
<pre><code>x&lt;&gt;y
</code></pre>
<p>Tests inequality.</p>
<pre><code>x&lt;y,x&gt;y, x&lt;=y, x&gt;=y
</code></pre>
<p>Comparisons.</p>
<pre><code>TRUE
</code></pre>
<p>The value TRUE</p>
<pre><code>FALSE
</code></pre>
<p>The value FALSE</p>
<pre><code>NOT expression
</code></pre>
<p>Negation of expression, as in NOT(x \&lt; y)</p>
<pre><code>expr1 AND expr2
</code></pre>
<p>Logical â€˜andâ€™, which evaluates to TRUE only if both the expressions it
joins are true. Expression (expr2) will not be evaluated if expr1
evaluates to FALSE.</p>
<pre><code>expr1 OR expr2
</code></pre>
<p>Logical â€˜orâ€™</p>
<h2 id="special-functions">Special Functions</h2>
<pre><code>ACCUMULATE(expression, initval [,resetcond])
</code></pre>
<p>Cumulative value function. Accumulates additively the value of
expression using initval (another numerical expression) as the initial
condition and resetting the total anytime the resetcond evaluates to
true. If you want to integrate you should multiply the expression by DT
or else your rule won't be robust if someone changes the time step.</p>
<pre><code>IFELSE(boolexpr, valexp1,valexpr2)
</code></pre>
<p>The ternary operator. If boolexpr returns true, returns the value given
by valexpr1. If boolexpr returns false, returns the value given by
valexpr2.</p>
<pre><code>LOOKUP(expression, lookup_array,value_array)
</code></pre>
<p>Lookup values from a small user supplied table. The lookup array is
provided using a bracketed, comma-separated list of values such as
[1000.,2000.,3000.]. The value_array return values are similar but
must have a length one smaller than the number of lookup values. The
array values must be hard-wired numbers at the present time --
expressions are not allowed. The LOOKUP compares expression to elements
of lookup_array. The highest element of the lookup table is currently a
limit, not an actual lookup slot. The function returns the component of
value_array corresponding to the highest index in lookup array that is
\&lt;= expression, e.g.:</p>
<pre><code>LOOKUP(1000.,[1000.,2000.,3000.], [1.,2.]) returns 1.

LOOKUP(2000.,[1000.,2000.,3000.], [1.,2.]) returns 2.

LOOKUP(3000.,[1000.,2000.,3000.], [1.,2.]) is an error.

PID( PID(expression,target,low,high,K, Ti,Td,Tt,b)
</code></pre>
<p>Use PID (Proportional, Integral, Derivative) control to try to guide
expression towards target. The parameters are as follows<br />
low: lower bound on control representing the minimum value the control
value can take (e.g. for gate height this might be zero).</p>
<p>high: upper bound on control.</p>
<p>K: The constant representing the Proportion component of the control.
The constant multiplies (expression-target) to change a control value,
so choose a factor that is reasonable that takes the scaling of the
expression to the scaling of the control.</p>
<p>Ti: Integral time constant of control</p>
<p>Td: Derivative time constant of control.</p>
<p>Tt: Time basis of "anti-windup"</p>
<p>b: Set-point weighting (use 1.0 if you are new to PID).</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>