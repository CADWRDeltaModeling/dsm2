<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"><title>Layers</title><!-- Changed by: , 07-Sep-2007 -->


<link type="text/css" href="dsm2.css" rel="stylesheet"></head>
<body>
<div id="wrap">
<ul id="page_navbar">
<li><a href="#overview">Overview</a></li>
</ul><!--end navbar-->

<hr style="">
<div id="page_title" class="dwr_logo">
<h1>Layers</h1>
</div><!-- page_title-->
<hr style="">

<div id="contents">
<a name="overview"></a>
<h2>Overview:</h2>
<p>DSM2 batches input data into files or "layers" in order to
achieve the following goals:</p>
<ul>
<li>To group input into cohesive packages with similar content(examples: the
standard grid, sdip operating rules).</li>
<li>To identify which items are changed when a new group of inputs is
added to an existing simulation.</li>
</ul>
<p>
For example, consider the two layers of channels in the figure below.
The first layer defines seven channels and would have seven entries in the GUI. 
This might represent a "base" grid. The second layer changes the properties of Channel 2, 
adds a Channel 8 and removes Channel 7. The second layer will have only three entries, 
shown in red. These entries represent the changes relative to Layer 1, 
and presumably are thematically related.</p>
<p><img alt="Layering System" class="powerpoint_image alt=" src="layer_system2.png" style="border: 3px solid ; margin: 2pt; padding: 4pt; width: 500px; height: 300px;">
</p>
<h3>Layer Overriding</h3>
<p>Layer overriding occurs when the same data item is defined
in multiple layers in the same model. The layers in the model are displayed in the
Layer Panel. Higher numbers take precendence over lower ones, 
and you can use actions in the layer panel context menu to 
reorder the layers in your model.</p>

<p>In the DSM2 input system, priority is given to files the later they are read.
The only exception is the "entry" file (often something like hydro.inp, qual.inp, ptm.inp)
the data in which always take precedence over other input.

<h4>Identifiers</h4>
<p>Whether two items represent the same data item depends on the identifier
for the table, which is some combination of columns that uniquely identify the item using
a name or number. Identifiers are listed in the reference documents.</p>

<h4>Top-level Tables</h4>When parent-child tables are present in a file
(e.g., Channels, Cross Section, Cross Section Layer), overriding is done at the level of
<em>top-level tables</em>. Top level tables are identified in the documentatio. 
When you over-ride a top-level table, its sub-table information
is completely replaced as well. So, for instance, if you replace Channel 9 in a low layer with 
a new dredged Channel 9 in a higher layer, nothing about the old Channel 9 will
ever be read in by the model.

<h4>Deleting lower level data</h4>
<p>Occasionally, the motivation for overriding an item is to eliminate it. You can do
this on any top-level table by prepending a carat ^ at the beginning of the line.
This will remove items on lower levels with the same identifier. Note that it doesn't matter
what other data you put in the parent fields (you do need placeholders). Also you needn't
add child information if the only reason for the parent entry is to delete.</p>

<p>Deleting data is quite different from commenting it out (using a # sign). Commenting data
out on a high level would merely mean that the input reader would skip over the line. It would
not affect any data with the same identifier on a lower level.
</p>

<hr class="table_sep" style="margin: 24px;" width="200">

</div><!--End contents-->

<div id="footer">
<copyright>© 2007 California
Department of Water Resources. All Rights Reserved</copyright>
<p id="license_info">DSM2 and its documentation are distributed under the <a href="http://www.gnu.org/licenses/gpl.txt">GNU General
Public License</a></p>
</div><!--End footer--> 
</div> <!--End wrap-->
</body></html>